<script>
var shoppingCart =[];

var userInput = prompt("Welcome to AK47 Shopping would you like to continue? Yes or No");

if(userInput !== "No")
{
  shop();
  calculateTotal();
}
else
{

   alert("Thank you for visiting us see you next time");

}


function shop()
{
     var useShoppingCart = "Y";

     while (useShoppingCart !== "N")
     {
     	addToCart();
     	listCart();
     	removeFromCart();
     	listCart();
     	

     	useShoppingCart = prompt("Do you want to continue shopping Y or N");
     }
}

function addToCart()
{
	var itemName = prompt("Enter the name of the item that you wish to buy or END to finish");
			
	while(itemName !=="END")
		{		
			var itemPrice = prompt("Enter the price for " + itemName);
			var itemQuantity = prompt("How many would you like to buy?");

			var items = 
			{
				name:itemName,
				price:itemPrice,
				quantity:itemQuantity,
			};

			shoppingCart.push(items);
			
		    itemName = prompt("Enter the name of the next item that you want to buy or END to finish");
		    		
        }
        //alert(shoppingCart);
}


function listCart()
{
	alert("These are the items in your cart:");

	for (var i = 0; i < shoppingCart.length; i++) 
	{
		alert( shoppingCart[i].name + " Price: " + shoppingCart[i].price + " Quantity: " + shoppingCart[i].quantity) + " Total: " + shoppingCart[i].price * shoppingCart[i].quantity;
	};
}

function removeFromCart()
{
	var itemRemove = prompt("Is there any item you want to remove from your cart? Yes or No");
	if (itemRemove !== "No") 
		{
			var itemToRemove = prompt("Type the item that you wish to remove");
			for (var i = 0; i < shoppingCart.length; i++) 
			{
				if (shoppingCart[i].name === itemToRemove)
				{
					shoppingCart.splice(i,1);
					alert(itemToRemove + " has been removed.");
					break;
				};	
			}
			itemRemove = prompt("Is there any other item you want to remove from your cart? Yes or No");
					
		};
	}

function calculateTotal()
{
	var totalBeforeTax = 0;

	for (var i = 0; i < shoppingCart.length; i++) 
	{
		var currentTotal = shoppingCart[i].price * shoppingCart[i].quantity;

		var totalBeforeTax = totalBeforeTax + currentTotal;

	}
	  alert("Your total before tax is " + totalBeforeTax);

	var tax = 0.075 * totalBeforeTax;

	alert("Your tax is " + 0.075 * totalBeforeTax);

	var totalAfterTax = totalBeforeTax + tax; 

	alert("Your total after tax is " + totalAfterTax);

	if(totalAfterTax > 100)
	{
		alert("You total is" + totalAfterTax + " which requires payment using a credit card ");
	}
	else
	{
		alert("Your total is " + totalAfterTax  + "you can use cash");
	}

	alert("Thank you for shopping with us.")
	
}
</script>